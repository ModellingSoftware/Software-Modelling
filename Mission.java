// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------


package ROVU;
import java.io.*;
import java.util.ArrayList;

import javax.vecmath.Vector3d;

import simbad.gui.Simbad;
import simbad.sim.Agent;

public class Mission {
	
	private int	numOfRoverTeams;
	private Environment environment;
	
	PrintStream out;
	
	Mission(Environment env) {
		out = new PrintStream(System.out);
		numOfRoverTeams = 4;
		out.print("Be Starting Missions All Day");
		environment = env;

	}
	
	Mission(int numbOfRoverTeams, Environment env) {
		numOfRoverTeams = numbOfRoverTeams;
		environment = env;
	}
		
	public CentralStation centralStation;
	
	/**
	 * 
	 */
	public void startMission() {
		centralStation = CentralStation.getInstance();
		
		addRoversToEnvironment();
		
		centralStation.initMappingStage();
		
		
	}
	
	/**
	 * 
	 * @param numRovers
	 */
	public void startMission(int numRovers) {
		
	}
	
	/**
	 * 
	 */
	public void stopMission() {
		
	}
	
	/**
	 * 
	 * @return
	 */
	public String getMissionStatus() {
		return "";
	}
	
	public void addRoversToEnvironment() {
		
        ArrayList<Agent> swarm = new ArrayList<Agent>();
        
        for (int i = 0; i < numOfRoverTeams; i++) {
        	if (i == 0 || i == 3) {
	        	MappingRover newMapBot = new MappingRover(new Vector3d(-1.5, 20, -1.5 + i), "MappingRover " + i);
	        	CameraRover newPhotoBot = new CameraRover(new Vector3d(-0.5, 20, -1.5 + i), "PhotoRover " + i);
	        	CO2Rover newCO2Bot = new CO2Rover(new Vector3d(0.5, 20, -1.5 + i), "CO2Rover " + i);
        	
	        	newMapBot.setDirection(Directions.West);
	        	swarm.add(newMapBot);
	        	centralStation.indexNewRover(newMapBot);
	        	newMapBot.setActive(true);
	        	
	        	newPhotoBot.setDirection(Directions.West);
	        	swarm.add(newPhotoBot);
	        	centralStation.indexNewRover(newPhotoBot);

	        	newCO2Bot.setDirection(Directions.West);
	        	swarm.add(newCO2Bot);
	        	centralStation.indexNewRover(newCO2Bot);
        	} else {     	
	        	MappingRover newMapBot = new MappingRover(new Vector3d(1.5, 20, -1.5 + i), "MappingRover " + i);
	        	CameraRover newPhotoBot = new CameraRover(new Vector3d(0.5, 20, -1.5 + i), "PhotoRover " + i);
	        	CO2Rover newCO2Bot = new CO2Rover(new Vector3d(-0.5, 20, -1.5 + i), "CO2Rover " + i);
        	
	        	newMapBot.setDirection(Directions.East);
	        	swarm.add(newMapBot);
	        	centralStation.indexNewRover(newMapBot);
	        	newMapBot.setActive(true);
	        	
	        	newPhotoBot.setDirection(Directions.East);
	        	swarm.add(newPhotoBot);
	        	centralStation.indexNewRover(newPhotoBot);

	        	newCO2Bot.setDirection(Directions.East);
	        	swarm.add(newCO2Bot);
	        	centralStation.indexNewRover(newCO2Bot);
        	}
        }
        
        for(Agent robot:swarm){
        	environment.add(robot);
        }
        
        new Simbad(environment, false);
        centralStation.startCentralStation();
	}
}
